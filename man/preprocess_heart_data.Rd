% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess_heart_data.R
\name{preprocess_heart_data}
\alias{preprocess_heart_data}
\title{Preprocess Heart Disease Dataset for CVD Prediction}
\usage{
preprocess_heart_data(data_path)
}
\arguments{
\item{data_path}{A character string specifying the file path to the raw CSV dataset (e.g., "data/heart_data.csv").}
}
\value{
A cleaned \code{tibble} with:
\itemize{
\item Target variable \code{cardio} (factor: "CVD" for positive class, "NoCVD" for negative class)
\item Engineered features: \code{age_years} (age in years), \code{bmi} (body mass index), \code{pulse_pressure} (systolic - diastolic blood pressure)
\item Outliers marked as \code{NA} (to be imputed later using training data only, preventing leakage)
}
}
\description{
Cleans and engineers features for the Kaggle Heart Disease dataset (tabular, biology/medicine-related)
to prepare it for machine learning. Key steps include ID column removal, age unit conversion,
categorical variable encoding, medical feature engineering (BMI, pulse pressure), and outlier flagging.
}
\details{
Critical preprocessing steps aligned with BIO215 project requirements:
\enumerate{
\item \strong{ID Column Removal}: Drops non-predictive columns like "index", "id", or "patient_id" to avoid model bias.
\item \strong{Age Standardization}: Converts age from days to years if median age > 200 (common dataset formatting issue).
\item \strong{Categorical Encoding}: Converts variables like \code{gender} (1→"Female", 2→"Male"), \code{cholesterol}, and \code{smoke} to factors.
\item \strong{Medical Feature Engineering}:
\itemize{
\item BMI = weight (kg) / (height (m))² (derived from \code{height} and \code{weight} columns)
\item Pulse Pressure = \code{ap_hi} (systolic BP) - \code{ap_lo} (diastolic BP) (relevant for cardiovascular risk assessment)
}
\item \strong{Outlier Flagging}: Marks implausible values as \code{NA} (e.g., systolic BP <70/ >250, height <120/ >220 cm) to avoid skewing model training.
}
}
\examples{
# Load and preprocess sample dataset
cleaned_data <- preprocess_heart_data("data/heart_data.csv")

# View first 5 rows and structure
head(cleaned_data)
str(cleaned_data)
}
